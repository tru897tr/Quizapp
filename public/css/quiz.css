.quiz-container{
    min-height:100vh;
    display:flex;
    flex-direction:column;
    background:linear-gradient(180deg,#f8fafc 0%,#f1f5f9 100%);
}

.quiz-header{
    background:rgba(255,255,255,0.98);
    padding:18px 24px;
    display:flex;
    justify-content:space-between;
    align-items:center;
    border-bottom:1px solid var(--border);
    box-shadow:0 2px 10px rgba(0,0,0,0.05);
    backdrop-filter:blur(12px);
    -webkit-backdrop-filter:blur(12px);
    position:sticky;
    top:0;
    z-index:100;
}

.quiz-logo{
    font-weight:700;
    font-size:19px;
    color:var(--dark);
    cursor:pointer;
    transition:all 0.25s cubic-bezier(0.4,0,0.2,1);
    text-decoration:none;
}

.quiz-logo:hover{
    color:var(--primary);
    transform:translateY(-1px);
}

.quiz-user{
    display:flex;
    align-items:center;
    gap:12px;
    font-size:15px;
    color:var(--dark);
    font-weight:600;
}

.btn-icon{
    width:38px;
    height:38px;
    border:none;
    background:var(--light-gray);
    border-radius:9px;
    cursor:pointer;
    font-size:17px;
    display:flex;
    align-items:center;
    justify-content:center;
    transition:all 0.25s cubic-bezier(0.4,0,0.2,1);
    position:relative;
}

.btn-icon:hover{
    transform:scale(1.08);
    background:var(--border);
    box-shadow:0 3px 10px rgba(0,0,0,0.1);
}

.btn-icon:active{
    transform:scale(1.02);
}

.quiz-stats{
    display:flex;
    gap:18px;
    padding:24px;
    justify-content:center;
    flex-wrap:wrap;
}

.stat-card{
    background:var(--white);
    padding:20px 36px;
    border-radius:14px;
    text-align:center;
    border:1px solid var(--border);
    transition:all 0.3s cubic-bezier(0.4,0,0.2,1);
    box-shadow:0 2px 6px rgba(0,0,0,0.05);
}

.stat-card:hover{
    transform:translateY(-4px);
    box-shadow:0 8px 18px rgba(99,102,241,0.12);
    border-color:rgba(99,102,241,0.3);
}

.stat-label{
    font-size:13px;
    color:var(--gray);
    margin-bottom:8px;
    font-weight:600;
    text-transform:uppercase;
    letter-spacing:0.5px;
}

.stat-value{
    font-size:28px;
    font-weight:700;
    background:linear-gradient(135deg,var(--primary),var(--secondary));
    -webkit-background-clip:text;
    -webkit-text-fill-color:transparent;
    background-clip:text;
    font-variant-numeric:tabular-nums;
}

.progress-bar{
    height:5px;
    background:var(--border);
    margin:0 24px;
    border-radius:3px;
    overflow:hidden;
}

.progress-fill{
    height:100%;
    background:linear-gradient(90deg,var(--primary),var(--secondary));
    transition:width 0.4s cubic-bezier(0.4,0,0.2,1);
}

#quizArea{
    flex:1;
    padding:28px;
    max-width:900px;
    margin:0 auto;
    width:100%;
    overflow-y:auto;
    display:flex;
    flex-direction:column;
}

.question-card{
    background:var(--white);
    border-radius:18px;
    padding:40px;
    margin-bottom:28px;
    border:1px solid var(--border);
    box-shadow:0 6px 20px rgba(0,0,0,0.08);
    animation:slideInUp 0.4s cubic-bezier(0.68,-0.55,0.265,1.55);
    position:relative;
    overflow:hidden;
}

.question-card::before{
    content:'';
    position:absolute;
    top:0;
    left:0;
    right:0;
    height:4px;
    background:linear-gradient(90deg,var(--primary),var(--secondary));
}

@keyframes slideInUp{
    from{
        opacity:0;
        transform:translateY(30px);
    }
    to{
        opacity:1;
        transform:translateY(0);
    }
}

.question-text{
    font-size:22px;
    font-weight:600;
    color:var(--dark);
    line-height:1.5;
    margin-bottom:32px;
    padding-bottom:24px;
    border-bottom:2px solid var(--light-gray);
    word-wrap:break-word;
    overflow-wrap:break-word;
}

.options-grid{
    display:grid;
    gap:14px;
    margin-bottom:32px;
}

.option{
    padding:18px 22px;
    border:2px solid var(--border);
    border-radius:12px;
    cursor:pointer;
    transition:all 0.25s cubic-bezier(0.4,0,0.2,1);
    background:var(--white);
    display:flex;
    align-items:center;
    gap:14px;
    position:relative;
    overflow:hidden;
    word-wrap:break-word;
    overflow-wrap:break-word;
}

.option::before{
    content:'';
    position:absolute;
    top:0;
    left:0;
    width:0;
    height:100%;
    background:linear-gradient(90deg,rgba(99,102,241,0.06),transparent);
    transition:width 0.3s cubic-bezier(0.4,0,0.2,1);
    z-index:0;
}

.option:hover:not(.correct):not(.wrong):not(.disabled)::before{
    width:100%;
}

.option:hover:not(.correct):not(.wrong):not(.disabled){
    border-color:var(--primary);
    transform:translateX(6px);
    box-shadow:0 6px 18px rgba(99,102,241,0.2);
}

.option-label{
    min-width:38px;
    height:38px;
    border-radius:50%;
    background:var(--light-gray);
    display:flex;
    align-items:center;
    justify-content:center;
    font-weight:700;
    color:var(--gray);
    flex-shrink:0;
    font-size:16px;
    transition:all 0.25s cubic-bezier(0.4,0,0.2,1);
    position:relative;
    z-index:1;
}

.option > div:last-child{
    position:relative;
    z-index:1;
    font-size:16px;
    line-height:1.5;
    font-weight:500;
    flex:1;
}

/* CORRECT ANSWER STYLING */
.option.correct{
    border-color:#10b981;
    border-width:3px;
    background:linear-gradient(135deg,#d1fae5 0%,#a7f3d0 100%);
    animation:correctPulse 0.6s cubic-bezier(0.68,-0.55,0.265,1.55);
    box-shadow:0 0 0 3px rgba(16,185,129,0.2),0 8px 24px rgba(16,185,129,0.3);
    transform:scale(1.02);
}

@keyframes correctPulse{
    0%{
        transform:scale(1);
        box-shadow:0 0 0 0 rgba(16,185,129,0.7);
    }
    50%{
        transform:scale(1.05);
        box-shadow:0 0 0 6px rgba(16,185,129,0);
    }
    100%{
        transform:scale(1.02);
        box-shadow:0 0 0 3px rgba(16,185,129,0.2);
    }
}

.option.correct .option-label{
    background:linear-gradient(135deg,#10b981,#059669);
    color:#fff;
    font-size:0;
    box-shadow:0 3px 10px rgba(16,185,129,0.4);
    animation:checkBounce 0.5s cubic-bezier(0.68,-0.55,0.265,1.55) 0.1s;
}

.option.correct .option-label::after{
    content:'✓';
    position:absolute;
    font-size:22px;
    font-weight:900;
    animation:checkPop 0.4s cubic-bezier(0.68,-0.55,0.265,1.55) 0.1s;
}

@keyframes checkBounce{
    0%{transform:scale(1)}
    50%{transform:scale(1.2)}
    100%{transform:scale(1)}
}

@keyframes checkPop{
    0%{
        transform:scale(0) rotate(-30deg);
        opacity:0;
    }
    60%{
        transform:scale(1.15) rotate(5deg);
        opacity:1;
    }
    100%{
        transform:scale(1) rotate(0deg);
        opacity:1;
    }
}

.option.correct > div:last-child{
    font-weight:700;
    color:#065f46;
}

/* WRONG ANSWER STYLING */
.option.wrong{
    border-color:#ef4444;
    border-width:3px;
    background:linear-gradient(135deg,#fee2e2 0%,#fecaca 100%);
    animation:wrongShake 0.5s cubic-bezier(0.68,-0.55,0.265,1.55);
    opacity:0.7;
    cursor:not-allowed;
    box-shadow:0 0 0 3px rgba(239,68,68,0.2),0 8px 24px rgba(239,68,68,0.25);
}

@keyframes wrongShake{
    0%,100%{transform:translateX(0)}
    10%,30%,50%,70%,90%{transform:translateX(-6px)}
    20%,40%,60%,80%{transform:translateX(6px)}
}

.option.wrong .option-label{
    background:linear-gradient(135deg,#ef4444,#dc2626);
    color:#fff;
    font-size:0;
    box-shadow:0 3px 10px rgba(239,68,68,0.4);
    animation:crossBounce 0.5s cubic-bezier(0.68,-0.55,0.265,1.55) 0.1s;
}

.option.wrong .option-label::after{
    content:'✗';
    position:absolute;
    font-size:22px;
    font-weight:900;
    animation:crossPop 0.4s cubic-bezier(0.68,-0.55,0.265,1.55) 0.1s;
}

@keyframes crossBounce{
    0%{transform:scale(1)}
    50%{transform:scale(1.2)}
    100%{transform:scale(1)}
}

@keyframes crossPop{
    0%{
        transform:scale(0) rotate(30deg);
        opacity:0;
    }
    60%{
        transform:scale(1.15) rotate(-5deg);
        opacity:1;
    }
    100%{
        transform:scale(1) rotate(0deg);
        opacity:1;
    }
}

.option.wrong > div:last-child{
    font-weight:600;
    color:#991b1b;
    text-decoration:line-through;
}

.option.disabled{
    cursor:not-allowed;
    opacity:0.85;
}

.quiz-navigation{
    display:flex;
    gap:14px;
    margin-top:32px;
}

.nav-button{
    flex:1;
    padding:16px;
    border:none;
    border-radius:12px;
    font-weight:600;
    font-size:16px;
    cursor:pointer;
    transition:all 0.25s cubic-bezier(0.4,0,0.2,1);
}

.nav-button.prev{
    background:var(--white);
    border:2px solid var(--border);
    color:var(--dark);
}

.nav-button.prev:hover:not(:disabled){
    border-color:var(--primary);
    color:var(--primary);
    transform:translateY(-2px);
}

.nav-button.next{
    background:linear-gradient(135deg,var(--primary),var(--secondary));
    color:var(--white);
    box-shadow:0 4px 14px rgba(99,102,241,0.3);
}

.nav-button.next:hover:not(:disabled){
    transform:translateY(-2px);
    box-shadow:0 6px 18px rgba(99,102,241,0.4);
}

.nav-button:disabled{
    opacity:0.4;
    cursor:not-allowed;
    transform:none !important;
}

/* Result screen */
.result-screen{
    background:var(--white);
    border-radius:18px;
    padding:60px 50px;
    text-align:center;
    border:1px solid var(--border);
    box-shadow:0 10px 32px rgba(0,0,0,0.1);
    animation:resultAppear 0.6s cubic-bezier(0.68,-0.55,0.265,1.55);
}

@keyframes resultAppear{
    from{
        opacity:0;
        transform:scale(0.85);
    }
    to{
        opacity:1;
        transform:scale(1);
    }
}

.result-icon{
    font-size:100px;
    margin-bottom:28px;
    animation:celebrationBounce 0.8s ease-in-out infinite;
}

@keyframes celebrationBounce{
    0%,100%{transform:translateY(0) scale(1)}
    50%{transform:translateY(-15px) scale(1.08)}
}

.result-title{
    font-size:42px;
    font-weight:800;
    margin-bottom:16px;
    background:linear-gradient(135deg,var(--primary),var(--secondary));
    -webkit-background-clip:text;
    -webkit-text-fill-color:transparent;
    background-clip:text;
}

.result-time{
    font-size:56px;
    font-weight:800;
    background:linear-gradient(135deg,var(--primary),var(--secondary));
    -webkit-background-clip:text;
    -webkit-text-fill-color:transparent;
    background-clip:text;
    margin:32px 0;
    font-variant-numeric:tabular-nums;
}

.result-stats{
    display:grid;
    grid-template-columns:repeat(auto-fit,minmax(160px,1fr));
    gap:20px;
    margin:40px 0;
}

.result-stat{
    background:linear-gradient(135deg,var(--light-gray),#e8eaf6);
    padding:24px;
    border-radius:14px;
    transition:all 0.3s cubic-bezier(0.4,0,0.2,1);
}

.result-stat:hover{
    transform:translateY(-4px);
    box-shadow:0 8px 20px rgba(99,102,241,0.15);
}

.result-stat-label{
    font-size:13px;
    color:var(--gray);
    margin-bottom:8px;
    font-weight:600;
    text-transform:uppercase;
}

.result-stat-value{
    font-size:28px;
    font-weight:800;
    color:var(--dark);
}

.result-buttons{
    display:flex;
    gap:14px;
    justify-content:center;
    margin-top:40px;
}

/* FULLSCREEN MODE - PERFECT LAYOUT */
body.fullscreen-mode{
    overflow:hidden;
}

.fullscreen-mode .quiz-container{
    position:fixed;
    inset:0;
    z-index:9999;
    background:#0f172a;
}

.fullscreen-mode .quiz-header{
    display:none;
}

.fullscreen-mode .quiz-stats{
    display:none !important;
}

.fullscreen-mode .progress-bar{
    position:fixed;
    top:0;
    left:0;
    right:0;
    height:4px;
    margin:0;
    z-index:10000;
    background:rgba(255,255,255,0.1);
}

.fullscreen-mode #quizArea{
    padding:24px;
    height:100vh;
    max-width:none;
    overflow-y:auto;
    -webkit-overflow-scrolling:touch;
}

.fullscreen-mode .question-card{
    height:auto;
    min-height:calc(100vh - 48px);
    display:flex;
    flex-direction:column;
    justify-content:center;
    padding:40px;
    margin:0;
    background:rgba(255,255,255,0.98);
}

.fullscreen-mode .question-text{
    font-size:32px;
    text-align:center;
    margin-bottom:40px;
    padding-bottom:32px;
    word-wrap:break-word;
    overflow-wrap:break-word;
    max-width:100%;
}

.fullscreen-mode .options-grid{
    display:grid;
    grid-template-columns:repeat(2,1fr);
    gap:20px;
    margin-bottom:40px;
}

.fullscreen-mode .option{
    font-size:20px;
    padding:32px;
    justify-content:center;
    text-align:center;
    min-height:100px;
    border-width:3px;
    word-wrap:break-word;
    overflow-wrap:break-word;
}

.fullscreen-mode .option-label{
    min-width:44px;
    height:44px;
    font-size:20px;
}

.fullscreen-mode .quiz-navigation{
    margin-top:40px;
}

.fullscreen-mode .nav-button{
    padding:14px 24px;
    font-size:15px;
}

.fullscreen-exit-btn{
    position:fixed;
    bottom:24px;
    right:24px;
    width:48px;
    height:48px;
    background:rgba(0,0,0,0.7);
    color:white;
    border:none;
    border-radius:50%;
    font-size:24px;
    cursor:pointer;
    opacity:0.3;
    transition:all 0.25s cubic-bezier(0.4,0,0.2,1);
    z-index:10001;
    display:none;
    backdrop-filter:blur(8px);
}

.fullscreen-mode .fullscreen-exit-btn{
    display:flex;
    align-items:center;
    justify-content:center;
}

.fullscreen-exit-btn:hover{
    opacity:1;
    background:rgba(0,0,0,0.9);
    transform:scale(1.1) rotate(90deg);
}

/* RESPONSIVE */
@media (max-width:768px){
    .fullscreen-mode .options-grid{
        grid-template-columns:1fr;
    }
    
    .fullscreen-mode .question-text{
        font-size:24px;
    }
    
    .question-card{
        padding:32px 24px;
    }
    
    .quiz-stats{
        padding:18px;
        gap:14px;
    }
    
    .stat-card{
        padding:16px 24px;
    }
}

@media (max-width:480px){
    .question-text{
        font-size:19px;
    }
    
    .option{
        padding:16px 18px;
        gap:12px;
    }
    
    .option-label{
        min-width:34px;
        height:34px;
        font-size:15px;
    }
    
    .option > div:last-child{
        font-size:15px;
    }
    
    .result-screen{
        padding:40px 28px;
    }
    
    .result-icon{
        font-size:70px;
    }
    
    .result-title{
        font-size:28px;
    }
    
    .result-time{
        font-size:40px;
    }
}
